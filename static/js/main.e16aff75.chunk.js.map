{"version":3,"sources":["StyledComponents.js","Context.js","Table.js","Utils/board.js","Utils/complete.js","App.js","reportWebVitals.js","index.js"],"names":["Wrapper","styled","div","props","w","h","flex","col","jc","al","clickContext","React","createContext","Colors","NumberCol","p","num","Dot","StyledTd","className","Context","i","j","val","hover","covered","useState","flag","setFlag","console","log","render","maybeStyle","click","style","backgroundColor","onClick","e","stopClicks","alert","handleClicks","stopPropagation","onContextMenu","preventDefault","Number","isInteger","children","dis","Table","board","useContext","cells","t","push","initBoard","diff","adj","tx","chance","Math","floor","random","xd","yd","check","x","y","c","k","complete","res","this","Reset","button","Game","App","setBoard","setClick","useEffect","value","call","JSON","parse","stringify","q","length","cx","cy","pop","unshift","newBoard","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e16aff75.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  width: ${(props) => props.w || \"100%\"};\r\n  height: ${(props) => props.h || \"100%\"};\r\n  display: ${(props) => (props.flex ? \"flex\" : \"block\")};\r\n  flex-direction: ${(props) => (props.col ? \"column\" : \"row\")};\r\n  ${(props) => {\r\n    if (props.flex) {\r\n      return `\r\n            justify-content:${props.jc};\r\n            align-items:${props.al};\r\n            `;\r\n    }\r\n    return \"\";\r\n  }}\r\n  background-color: #FAFAFA;\r\n`;\r\n","import React from \"react\";\r\n\r\nexport const clickContext = React.createContext(\"just_default\");\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { clickContext } from \"./Context\";\r\n\r\nconst Colors = [\r\n  null,\r\n  \"#1345ba\",\r\n  \"#37b50d\",\r\n  \"#cc2e0e\",\r\n  \"#b81f00\",\r\n  \"#910c03\",\r\n  \"#730700\",\r\n  \"#520601\",\r\n  \"#0a0100\",\r\n];\r\n\r\nconst NumberCol = styled.p`\r\n  color: ${(props) => Colors[props.num]};\r\n  font-weight: bolder;\r\n  cursor: default;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst Dot = styled.div`\r\n  height: 7px;\r\n  width: 7px;\r\n  background-color: black;\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst Td = ({ className, Context, i, j, val, hover, covered }) => {\r\n  const [flag, setFlag] = useState(0);\r\n  if (i === 0 && j === 0) {\r\n    console.log(Context);\r\n  }\r\n\r\n  let maybeStyle = {};\r\n  if (Context.click === 1 && covered === 0) {\r\n    maybeStyle.style = { backgroundColor: \"gray\" };\r\n  } else if (Context.click === 1 && flag === 1) {\r\n    maybeStyle.style = { backgroundColor: \"red\" };\r\n  }\r\n\r\n  let render;\r\n  if (Context.click === 0) {\r\n    render = val === 1 ? <Dot /> : hover;\r\n  } else {\r\n    if (covered === 1) {\r\n      render = \"\";\r\n    } else if (covered === 0) {\r\n      render = hover;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <td\r\n      onClick={(e) => {\r\n        if (Context.click === 0) {\r\n          return;\r\n        }\r\n        if (val === 1) {\r\n          Context.stopClicks();\r\n          alert(\"Game Over\");\r\n        } else {\r\n          Context.handleClicks(i, j);\r\n        }\r\n        e.stopPropagation();\r\n      }}\r\n      {...maybeStyle}\r\n      className={className}\r\n      onContextMenu={(e) => {\r\n        if (Context.click === 0) {\r\n          return;\r\n        }\r\n        console.log(`${i},${j}`);\r\n        setFlag((p) => (p === 0 ? p + 1 : p - 1));\r\n        e.preventDefault();\r\n      }}\r\n    >\r\n      {render === 0 ? (\r\n        \"\"\r\n      ) : Number.isInteger(render) ? (\r\n        <NumberCol children={render} num={render} />\r\n      ) : (\r\n        render\r\n      )}\r\n    </td>\r\n  );\r\n};\r\n\r\nconst StyledTd = styled(Td)`\r\n  background-color: ${(props) => {\r\n    return props.dis === 0 ? \"rgba(105,105,105,0.7)\" : `rgba(240,240,240,1)`;\r\n  }};\r\n  width: ${(props) => props.w || \"20px\"};\r\n  height: ${(props) => props.w || \"20px\"};\r\n  display: inline-flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  margin: 0px 2px;\r\n  transition-duration: 150ms;\r\n  align-items: center;\r\n  font-size: 0.9rem;\r\n  text-align: center;\r\n  flex-shrink: 0px;\r\n  @media all and (max-width: 450px) {\r\n    & {\r\n      width: 2vw;\r\n      height: 2vh;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Table = ({ w, h, board }) => {\r\n  const Context = useContext(clickContext);\r\n\r\n  const cells = [];\r\n  for (let i = 0; i < h; i++) {\r\n    let t = [];\r\n    for (let j = 0; j < w; j++) {\r\n      t.push(\r\n        <StyledTd\r\n          dis={Context.click}\r\n          Context={Context}\r\n          val={board[0][i][j]}\r\n          hover={board[1][i][j]}\r\n          covered={board[2][i][j]}\r\n          i={i}\r\n          j={j}\r\n        ></StyledTd>\r\n      );\r\n    }\r\n    cells.push(<tr>{t}</tr>);\r\n  }\r\n\r\n  return (\r\n    <table\r\n      onContextMenu={(e) => {\r\n        e.preventDefault();\r\n      }}\r\n    >\r\n      <tbody>{cells}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","export const initBoard = (w, h, diff = 6) => {\r\n  let board = [];\r\n  let adj = [];\r\n  let covered = [];\r\n  for (let i = 0; i < h; i++) {\r\n    let t = [];\r\n    let tx = [];\r\n    for (let j = 0; j < w; j++) {\r\n      let chance = Math.floor(Math.random() * w * diff);\r\n      if (chance >= 0 && chance < w) t.push(1);\r\n      else t.push(0);\r\n      tx.push(1);\r\n    }\r\n    board.push(t);\r\n    covered.push(tx);\r\n  }\r\n\r\n  let xd = [1, 0, -1, 0, 1, 1, -1, -1];\r\n  let yd = [0, -1, 0, 1, 1, -1, 1, -1];\r\n\r\n  const check = (x, y) => {\r\n    if (x >= 0 && y >= 0 && x < h && y < w && board[x][y] === 1) return true;\r\n    return false;\r\n  };\r\n\r\n  for (let i = 0; i < h; i++) {\r\n    let t = [];\r\n    for (let j = 0; j < w; j++) {\r\n      let c = 0;\r\n      for (let k = 0; k < 8; k++) {\r\n        if (check(xd[k] + i, yd[k] + j)) {\r\n          c++;\r\n        }\r\n      }\r\n      t.push(c);\r\n    }\r\n    adj.push(t);\r\n  }\r\n\r\n  return [board, adj, covered];\r\n};\r\n","export function complete(board) {\r\n  let res = true;\r\n  for (let i = 0; i < this.h; i++) {\r\n    for (let j = 0; j < this.w; j++) {\r\n      if (\r\n        board[2][i][j] === 1 &&\r\n        board[0][i][j] === 1 &&\r\n        (board[2][i][j] || board[0][i][j])\r\n      ) {\r\n        continue;\r\n      }\r\n      res = false;\r\n    }\r\n  }\r\n  return res;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"./App.css\";\nimport { Wrapper } from \"./StyledComponents.js\";\nimport Table from \"./Table.js\";\nimport { initBoard } from \"./Utils/board.js\";\nimport { complete } from \"./Utils/complete.js\";\nimport { clickContext } from \"./Context.js\";\n\nconst Reset = styled.button`\n  margin: 5px;\n  outline: none;\n  border: none;\n  background-color: #abc;\n  padding: 6px 8px;\n  font-size: 0.85rem;\n  border-radius: 5px;\n  text-align: center;\n  transition-duration: 200ms;\n  &:hover {\n    background-color: white;\n    box-shadow: 0px 0px 0px 1px black;\n  }\n`;\n\nconst Game = styled(Wrapper)`\n  height: fit-content;\n  width: fit-content;\n  padding: 5px;\n  background-color: #abc;\n  border-radius: 5px;\n  overflow: hidden;\n`;\n\nconst App = (props) => {\n  const [board, setBoard] = useState(initBoard(20, 20));\n  const [w, setW] = useState(20);\n  const [h, setH] = useState(20);\n  const [click, setClick] = useState(1);\n\n  useEffect(() => {\n    setBoard(initBoard(w, h));\n  }, [w, h]);\n\n  const stopClicks = () => {\n    setClick(0);\n  };\n\n  const handleClicks = (x, y) => {\n    if (complete.call({ w, h }, board)) {\n      alert(\"You Win!\");\n      setClick(0);\n      return;\n    }\n    if (board[0][x][y] === 1) {\n      alert(\"GAME OVER...\");\n    } else {\n      let t = JSON.parse(JSON.stringify(board[2]));\n\n      let xd = [1, 0, -1, 0, 1, 1, -1, -1];\n      let yd = [0, -1, 0, 1, 1, -1, 1, -1];\n\n      const check = (x, y) => {\n        if (\n          x >= 0 &&\n          y >= 0 &&\n          x < h &&\n          y < w &&\n          board[0][x][y] === 0 &&\n          t[x][y] === 1\n        )\n          return true;\n        return false;\n      };\n\n      let q = [[x, y]];\n      t[x][y] = 0;\n      if (board[1][x][y] === 0) {\n        while (q.length !== 0) {\n          console.log(\"in\");\n          let [cx, cy] = q[q.length - 1];\n          q.pop();\n          for (let i = 0; i < 8; i++) {\n            if (check(xd[i] + cx, yd[i] + cy)) {\n              t[xd[i] + cx][yd[i] + cy] = 0;\n              if (board[1][xd[i] + cx][yd[i] + cy] === 0)\n                q.unshift([xd[i] + cx, yd[i] + cy]);\n            }\n          }\n        }\n      }\n      let newBoard = [\n        JSON.parse(JSON.stringify(board[0])),\n        JSON.parse(JSON.stringify(board[1])),\n        t,\n      ];\n      setBoard(newBoard);\n    }\n  };\n\n  const value = { handleClicks, stopClicks, click };\n\n  return (\n    <Wrapper flex col jc=\"center\" al=\"center\">\n      <Reset\n        onClick={() => {\n          setBoard(initBoard(w, h));\n          setClick(1);\n        }}\n        children=\"Reset\"\n      />\n      <Game flex jc=\"center\" al=\"center\">\n        <clickContext.Provider value={value}>\n          <Table board={board} w={w} h={h} />\n        </clickContext.Provider>\n      </Game>\n    </Wrapper>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}